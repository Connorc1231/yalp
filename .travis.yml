language: node_js
node_js:
- v6.11.5
cache:
  directories:
  - node-modules

services:
  - mysql

before_script:
  - npm run build:client
  - npm run build:database
script: node ./server/index.js & npm run react-test & npm run server-test & npm run database-test

notifications:
  slack:
    secure: gymsK8tXem7jkTrrQS65WQMYa5mz5MNMkb4VppyPoDqxWSrAJaLVeguuMPelLfqAIy1r5WxrTcU1iLb4r7OQwgbeXisS5cBGMl7NPwIUFjPMAjtuiKEFlaGdlYy2pcWbWSXzGPzQuM42Hm3Xl9jQ24bSJGyr3u86mqJ/LUWIZRqmqncZgziCoyqzTjW5pK8gYc6cZ0NHms0XXSTLNlpx9RJRAiA4mEaktXgj9Cy1JhlXgGO9P9spyOOFlEl/rxIrd2dvhWhNmuPhni6f6/cBKdS9ls7v2yOsqFieW15GOvXP0yV46UMuMBRciErwPouLAhfEkAIdEXypjD5RpMLVQRrZW3TTZ2VwWCXk5iwsvTFBVT9iiNeAj1ve4LG94EW430HrsPOcGGfx4xNzddkauVRBlZQ8Qb+1vjxDu9YCnMHPZBzWlJ7CSe++qFFrhcB5Zm6JnMvPyb3RibOxxZnY3u1prqXU6X4luwaHZoitTg6VMjT/iQoDsZGeCn23etIq4pXfZ48KHIKBdhE5XS01lrcIcQG9ZQgAG7D4utrzUPCf7bhqEcB/qlAamdTIZw1AAErioifEfEr8FmKRQ1CP3wiHtlVrOzY4hmyFROc+iOAQfLGxH79aeR7q4b89DuJ4cR1/u1A/dwNLAoDwnI/izEcMmBmFKu+idkqxxC592HI=
deploy:
  provider: heroku
  api_key:
    secure: nBVpXXkJcI2UU8Ll0UganmAV+t1TR673TBGlWQotbqj/FfmhbnI5Sa1cZMPyWrPsR4xgLy0zLwkIAFzn/2z/gfxbg/gDt0q3pmgn//yUtWIy6hlL6tN9lvKJl+wMqh8RcEJBd2d+y3kAPBPLWy0BKd7L+GwQQ565UZKllnh+7aDgQ4o9Os8DdTR4OxuV/zxjINh4XC81SfVpNaxV8qHbu3ntYewCJ0dG/rbDEspxTjnTxdpC+EQ3+vqScwbxloSgMSGhPUOBZVJ4N9dShR6+BbZRJKjGqCjtKN+Ellt48VOAixQPVg9Dz7KAPQJ4W+uwulxbshN0Tqv80BVQZLoQU2zEvoScgsAuIhOAyJrmppwVi23r86mOZKIXH3Lv7cDEogNMkFWCcGKDKh9DzWh8zKuYIfxWyo2daCEV+4lm45wWeCngT7OnyGJlsUUBKB2dWmtJjfGWXJrkuhRiVpyHCmam2u4pX2mOHDl+Mt4l5fcgubyqlnBfaW+hRSh48W7NkGSUfCwNLBNLatMGLUaTgrGZvV7ffz1N6g5QpcKGRe1nqNRBF3+i4n+ufXjiK6lQHDcemRzwnRgTUtKQulX5j99lfVY9PrMylyKS51950X4QuJfeheIuO16r131CYZkNTYTH3gb164YHzYcqsP6M9G0D0EcTmTYZ6ua/ELawOpw=
  app: yalp
